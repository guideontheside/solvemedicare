<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Guide on the Side – Medicare Referral Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --royal-purple: #6B3FA0;
            --gold: #D4AF37;
            --soft-lavender: #F5EDFF;
            --white: #FFFFFF;
            --gray: #666;
            --light-gray: #f0f0f0;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--soft-lavender) 0%, var(--white) 100%);
            min-height: 100vh;
            padding-bottom: 180px;
        }

        .lang-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: var(--royal-purple);
            color: var(--white);
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }

        .lang-toggle:hover {
            transform: scale(1.05);
        }

        header {
            background: linear-gradient(135deg, var(--royal-purple) 0%, #8B5FC7 100%);
            color: var(--white);
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .header-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.95;
            font-weight: 300;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .countdown {
            background: var(--white);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            text-align: center;
        }

        .countdown h3 {
            color: var(--royal-purple);
            margin-bottom: 10px;
        }

        .countdown-timer {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gold);
        }

        nav {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        nav button {
            flex: 1;
            min-width: 150px;
            padding: 15px;
            background: var(--white);
            border: 2px solid var(--royal-purple);
            border-radius: 12px;
            color: var(--royal-purple);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        nav button:hover, nav button.active {
            background: var(--royal-purple);
            color: var(--white);
        }

        .card {
            background: var(--white);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .profile-section {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .profile-photo {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: var(--soft-lavender);
            border: 4px solid var(--gold);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
        }

        .profile-text {
            flex: 1;
            min-width: 250px;
        }

        .cta-button {
            display: inline-block;
            background: var(--gold);
            color: var(--white);
            padding: 15px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            margin: 15px 0;
            transition: transform 0.2s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

        .accordion {
            margin: 15px 0;
        }

        .accordion-item {
            background: var(--soft-lavender);
            border-radius: 12px;
            margin: 10px 0;
            overflow: hidden;
        }

        .accordion-header {
            background: var(--royal-purple);
            color: var(--white);
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
        }

        .accordion-header:hover {
            background: #7F4DB8;
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0 20px;
        }

        .accordion-content.open {
            max-height: 1000px;
            padding: 20px;
        }

        .referral-form {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--royal-purple);
        }

        .form-group input, .form-group select {
            padding: 12px;
            border: 2px solid var(--soft-lavender);
            border-radius: 8px;
            font-size: 1rem;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: var(--royal-purple);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-primary {
            background: var(--royal-purple);
            color: var(--white);
        }

        .btn-primary:hover {
            background: #7F4DB8;
        }

        .btn-secondary {
            background: var(--gold);
            color: var(--white);
        }

        .btn-secondary:hover {
            opacity: 0.9;
        }

        .referral-list {
            margin: 20px 0;
        }

        .referral-item {
            background: var(--soft-lavender);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 100px;
            gap: 10px;
            align-items: center;
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            text-align: center;
        }

        .status-new {
            background: #FFE5B4;
            color: #8B4513;
        }

        .status-connected {
            background: #B4D7FF;
            color: #003D82;
        }

        .status-contacted {
            background: #D4B4FF;
            color: #4B0082;
        }

        .status-enrolled {
            background: #B4FFB4;
            color: #006400;
        }

        .progress-section {
            margin: 20px 0;
        }

        .progress-bar {
            background: var(--light-gray);
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(90deg, var(--royal-purple) 0%, var(--gold) 100%);
            height: 100%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-weight: 600;
        }

        .crown-progress {
            font-size: 48px;
            text-align: center;
            margin: 20px 0;
            filter: grayscale(100%);
            transition: filter 0.5s;
        }

        .crown-progress.gold {
            filter: grayscale(0%);
        }

        .milestone-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .milestone-card {
            background: var(--soft-lavender);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            position: relative;
            border: 3px solid transparent;
            transition: all 0.3s;
        }

        .milestone-card.achieved {
            border-color: var(--gold);
            background: linear-gradient(135deg, var(--soft-lavender) 0%, #FFE5B4 100%);
        }

        .milestone-icon {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .motivational-quote {
            background: linear-gradient(135deg, var(--gold) 0%, var(--royal-purple) 100%);
            color: var(--white);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            font-style: italic;
            margin: 20px 0;
        }

        .disclaimer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--royal-purple);
            color: var(--white);
            padding: 20px;
            font-size: 0.8rem;
            line-height: 1.4;
            box-shadow: 0 -4px 12px rgba(0,0,0,0.2);
        }

        footer {
            text-align: center;
            padding: 20px;
            background: var(--white);
            margin-top: 40px;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: var(--gold);
            position: fixed;
            animation: fall 3s linear;
            z-index: 9999;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            .referral-item {
                grid-template-columns: 1fr;
                text-align: center;
            }

            nav button {
                min-width: 100%;
            }

            .profile-section {
                flex-direction: column;
                text-align: center;
            }
        }

        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .delete-btn {
            background: #ff4444;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
        }

        .delete-btn:hover {
            background: #cc0000;
        }
    </style>
</head>
<body>
    <button class="lang-toggle" onclick="toggleLanguage()">ES</button>

    <header>
        <div class="header-icon">👑🧭</div>
        <h1 id="mainTitle">The Guide on the Side</h1>
        <p class="subtitle" id="mainSubtitle">Medicare Education & Referral Resource</p>
    </header>

    <div class="container">
        <div class="countdown card">
            <h3 id="countdownTitle">AEP Ends In:</h3>
            <div class="countdown-timer" id="countdownTimer">Loading...</div>
        </div>

        <nav>
            <button onclick="showSection('home')" class="active" data-nav="home">🏠 <span id="navHome">Home</span></button>
            <button onclick="showSection('learn')" data-nav="learn">📚 <span id="navLearn">Learn</span></button>
            <button onclick="showSection('tracker')" data-nav="tracker">📊 <span id="navTracker">Tracker</span></button>
            <button onclick="showSection('milestones')" data-nav="milestones">🏆 <span id="navMilestones">Milestones</span></button>
        </nav>

        <!-- Home Section -->
        <div id="home" class="section active">
            <div class="card">
                <div class="profile-section">
                    <div class="profile-photo">👑</div>
                    <div class="profile-text">
                        <h2 id="welcomeText">Hi, I'm Elizabeth Donato — your Guide on the Side.</h2>
                        <p id="missionText">I'm licensed in life and health insurance, but this year I'm not certified to sell Medicare plans. My mission is to connect you with trusted licensed professionals at EOS who can help you understand your Medicare options safely and clearly.</p>
                        <a href="https://bit.ly/SolveMedicare" target="_blank" class="cta-button" id="connectBtn">Connect with EOS 🔗</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Learn Section -->
        <div id="learn" class="section">
            <div class="card">
                <h2 id="learnTitle">Medicare Education</h2>
                <div class="accordion">
                    <div class="accordion-item">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            <span id="acc1Title">What is Medicare?</span>
                            <span>▼</span>
                        </div>
                        <div class="accordion-content">
                            <p id="acc1Content">Medicare is a federal health insurance program primarily for people 65 and older, and certain younger people with disabilities. It helps cover hospital visits, doctor appointments, and prescription drugs. For personalized assistance, EOS licensed agents can review your coverage options at no cost.</p>
                            <a href="https://bit.ly/SolveMedicare" target="_blank" class="cta-button" id="acc1Btn">Connect with EOS 🔗</a>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            <span id="acc2Title">Parts A, B, C, and D Explained</span>
                            <span>▼</span>
                        </div>
                        <div class="accordion-content">
                            <p id="acc2Content"><strong>Part A:</strong> Hospital insurance<br><strong>Part B:</strong> Medical insurance<br><strong>Part C:</strong> Medicare Advantage Plans (alternative to Original Medicare)<br><strong>Part D:</strong> Prescription drug coverage<br><br>For personalized assistance, EOS licensed agents can review your coverage options at no cost.</p>
                            <a href="https://bit.ly/SolveMedicare" target="_blank" class="cta-button" id="acc2Btn">Connect with EOS 🔗</a>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            <span id="acc3Title">Enrollment Basics</span>
                            <span>▼</span>
                        </div>
                        <div class="accordion-content">
                            <p id="acc3Content">Annual Enrollment Period (AEP) runs from October 15 to December 7 each year. This is when you can make changes to your Medicare coverage. Initial Enrollment Period begins 3 months before you turn 65. For personalized assistance, EOS licensed agents can review your coverage options at no cost.</p>
                            <a href="https://bit.ly/SolveMedicare" target="_blank" class="cta-button" id="acc3Btn">Connect with EOS 🔗</a>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <div class="accordion-header" onclick="toggleAccordion(this)">
                            <span id="acc4Title">Why I Partner with EOS</span>
                            <span>▼</span>
                        </div>
                        <div class="accordion-content">
                            <p id="acc4Content">EOS Health Plans has certified Medicare professionals who are committed to helping you understand your options with clarity and care. They provide personalized guidance at no cost to you. I trust them to serve you well. For personalized assistance, EOS licensed agents can review your coverage options at no cost.</p>
                            <a href="https://bit.ly/SolveMedicare" target="_blank" class="cta-button" id="acc4Btn">Connect with EOS 🔗</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tracker Section -->
        <div id="tracker" class="section">
            <div class="card">
                <h2 id="trackerTitle">Referral Tracker</h2>
                <div class="progress-section">
                    <h3 id="progressTitle">Progress to Goal (200)</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill">0%</div>
                    </div>
                    <div class="crown-progress" id="crownProgress">👑</div>
                    <p id="totalReferrals" style="text-align: center; font-size: 1.5rem; font-weight: 700; color: var(--royal-purple);">Total: 0</p>
                </div>

                <h3 id="addReferralTitle">Add New Referral</h3>
                <form class="referral-form" onsubmit="addReferral(event)">
                    <div class="form-group">
                        <label for="refName" id="labelName">Name</label>
                        <input type="text" id="refName" required>
                    </div>
                    <div class="form-group">
                        <label for="refContact" id="labelContact">Contact Method</label>
                        <input type="text" id="refContact" placeholder="Phone, Email, etc." required>
                    </div>
                    <div class="form-group">
                        <label for="refStatus" id="labelStatus">Status</label>
                        <select id="refStatus">
                            <option value="new">New Lead</option>
                            <option value="connected">Connected</option>
                            <option value="contacted">EOS Contacted</option>
                            <option value="enrolled">Enrolled</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary" id="submitBtn">Add Referral</button>
                </form>

                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="exportData()" id="exportBtn">📥 Export Data</button>
                    <button class="btn btn-secondary" onclick="importData()" id="importBtn">📤 Import Data</button>
                </div>

                <div class="referral-list" id="referralList"></div>
            </div>
        </div>

        <!-- Milestones Section -->
        <div id="milestones" class="section">
            <div class="card">
                <h2 id="milestonesTitle">Your Journey to Royalty</h2>
                <div class="motivational-quote" id="motivationalQuote">Keep shining, Queen! Every connection counts. 👑</div>
                
                <div class="milestone-grid">
                    <div class="milestone-card" data-milestone="25">
                        <div class="milestone-icon">🥉</div>
                        <h3>Bronze</h3>
                        <p>25 Referrals</p>
                    </div>
                    <div class="milestone-card" data-milestone="50">
                        <div class="milestone-icon">🥈</div>
                        <h3>Silver</h3>
                        <p>50 Referrals</p>
                    </div>
                    <div class="milestone-card" data-milestone="100">
                        <div class="milestone-icon">🥇</div>
                        <h3>Gold</h3>
                        <p>100 Referrals</p>
                    </div>
                    <div class="milestone-card" data-milestone="150">
                        <div class="milestone-icon">💎</div>
                        <h3>Platinum</h3>
                        <p>150 Referrals</p>
                    </div>
                    <div class="milestone-card" data-milestone="200">
                        <div class="milestone-icon">👑</div>
                        <h3>Royal</h3>
                        <p>200 Referrals</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="disclaimer" id="disclaimer">
        Elizabeth Donato is a licensed insurance agent. For the 2025 Annual Enrollment Period, she is participating as a referral partner and does not provide plan recommendations or enrollments. This site is for educational and referral purposes only and is not affiliated with or endorsed by the U.S. government or the federal Medicare program. All Medicare questions and enrollments are handled by licensed and certified representatives of EOS Health Plans. TTY 711.
        <br><br>
        <strong>Contact Elizabeth:</strong> <a href="mailto:edonato@experiorfinancialgroup.com" style="color: var(--gold);">edonato@experiorfinancialgroup.com</a>
    </div>

    <input type="file" id="fileInput" style="display: none;" accept=".json" onchange="handleFileImport(event)">

    <script>
        const LANG = {
            en: {
                title: "The Guide on the Side",
                subtitle: "Medicare Education & Referral Resource",
                connect: "Connect with EOS 🔗",
                welcome: "Hi, I'm Elizabeth Donato — your Guide on the Side.",
                mission: "I'm licensed in life and health insurance, but this year I'm not certified to sell Medicare plans. My mission is to connect you with trusted licensed professionals at EOS who can help you understand your Medicare options safely and clearly.",
                learn: "Learn",
                tracker: "Tracker",
                milestones: "Milestones",
                addReferral: "Add New Referral",
                name: "Name",
                contact: "Contact Method",
                status: "Status",
                total: "Total",
                export: "📥 Export Data",
                import: "📤 Import Data",
                home: "Home",
                learnTitle: "Medicare Education",
                trackerTitle: "Referral Tracker",
                milestonesTitle: "Your Journey to Royalty",
                progressTitle: "Progress to Goal (200)",
                addReferralTitle: "Add New Referral",
                submitBtn: "Add Referral",
                countdownTitle: "AEP Ends In:",
                motivational: [
                    "Keep shining, Queen! Every connection counts. 👑",
                    "Helping others find help — that's true royalty. 💜",
                    "Small steps make big impact! ⭐",
                    "You're guiding others with heart and purpose. 💛"
                ],
                acc1Title: "What is Medicare?",
                acc2Title: "Parts A, B, C, and D Explained",
                acc3Title: "Enrollment Basics",
                acc4Title: "Why I Partner with EOS",
                acc1Content: "Medicare is a federal health insurance program primarily for people 65 and older, and certain younger people with disabilities. It helps cover hospital visits, doctor appointments, and prescription drugs. For personalized assistance, EOS licensed agents can review your coverage options at no cost.",
                acc2Content: "<strong>Part A:</strong> Hospital insurance<br><strong>Part B:</strong> Medical insurance<br><strong>Part C:</strong> Medicare Advantage Plans (alternative to Original Medicare)<br><strong>Part D:</strong> Prescription drug coverage<br><br>For personalized assistance, EOS licensed agents can review your coverage options at no cost.",
                acc3Content: "Annual Enrollment Period (AEP) runs from October 15 to December 7 each year. This is when you can make changes to your Medicare coverage. Initial Enrollment Period begins 3 months before you turn 65. For personalized assistance, EOS licensed agents can review your coverage options at no cost.",
                acc4Content: "EOS Health Plans has certified Medicare professionals who are committed to helping you understand your options with clarity and care. They provide personalized guidance at no cost to you. I trust them to serve you well. For personalized assistance, EOS licensed agents can review your coverage options at no cost.",
                disclaimer: "Elizabeth Donato is a licensed insurance agent. For the 2025 Annual Enrollment Period, she is participating as a referral partner and does not provide plan recommendations or enrollments. This site is for educational and referral purposes only and is not affiliated with or endorsed by the U.S. government or the federal Medicare program. All Medicare questions and enrollments are handled by licensed and certified representatives of EOS Health Plans. TTY 711.",
                lang: "ES"
            },
            es: {
                title: "La Guía a tu Lado",
                subtitle: "Recurso Educativo y de Referencia de Medicare",
                connect: "Conéctate con EOS 🔗",
                welcome: "Hola, soy Elizabeth Donato — tu Guía a tu Lado.",
                mission: "Tengo licencia en seguros de vida y salud, pero este año no estoy certificada para vender planes de Medicare. Mi meta es conectarte con profesionales de confianza en EOS que pueden ayudarte a entender tus opciones de Medicare de manera segura y clara.",
                learn: "Aprender",
                tracker: "Seguimiento",
                milestones: "Metas",
                addReferral: "Agregar Referencia",
                name: "Nombre",
                contact: "Método de Contacto",
                status: "Estatus",
                total: "Total",
                export: "📥 Exportar Datos",
                import: "📤 Importar Datos",
                home: "Inicio",
                learnTitle: "Educación sobre Medicare",
                trackerTitle: "Seguimiento de Referencias",
                milestonesTitle: "Tu Camino a la Realeza",
                progressTitle: "Progreso hacia la Meta (200)",
                addReferralTitle: "Agregar Nueva Referencia",
                submitBtn: "Agregar Referencia",
                countdownTitle: "AEP Termina En:",
                motivational: [
                    "¡Sigue brillando, Reina! Cada conexión cuenta. 👑",
                    "Ayudar a otros a encontrar ayuda — eso es realeza verdadera. 💜",
                    "Pequeños pasos crean gran impacto. ⭐",
                    "Guías a otros con corazón y propósito. 💛"
                ],
                acc1Title: "¿Qué es Medicare?",
                acc2Title: "Partes A, B, C y D Explicadas",
                acc3Title: "Conceptos Básicos de la Inscripción",
                acc4Title: "Por Qué Colaboro con EOS",
                acc1Content: "Medicare es un programa federal de seguro de salud principalmente para personas mayores de 65 años y ciertas personas más jóvenes con discapacidades. Ayuda a cubrir visitas al hospital, citas médicas y medicamentos recetados. Para obtener ayuda personalizada, los agentes con licencia de EOS pueden revisar tus opciones de cobertura sin costo.",
                acc2Content: "<strong>Parte A:</strong> Seguro hospitalario<br><strong>Parte B:</strong> Seguro médico<br><strong>Parte C:</strong> Planes Medicare Advantage (alternativa a Medicare Original)<br><strong>Parte D:</strong> Cobertura de medicamentos recetados<br><br>Para obtener ayuda personalizada, los agentes con licencia de EOS pueden revisar tus opciones de cobertura sin costo.",
                acc3Content: "El Período de Inscripción Anual (AEP) es del 15 de octubre al 7 de diciembre de cada año. Este es el momento en que puedes hacer cambios a tu cobertura de Medicare. El Período de Inscripción Inicial comienza 3 meses antes de cumplir 65 años. Para obtener ayuda personalizada, los agentes con licencia de EOS pueden revisar tus opciones de cobertura sin costo.",
                acc4Content: "EOS Health Plans tiene profesionales certificados de Medicare comprometidos a ayudarte a entender tus opciones con claridad y cuidado. Proporcionan orientación personalizada sin costo para ti. Confío en ellos para servirte bien. Para obtener ayuda personalizada, los agentes con licencia de EOS pueden revisar tus opciones de cobertura sin costo.",
                disclaimer: "Elizabeth Donato es una agente de seguros con licencia. Para el Período de Inscripción Anual 2025, participa como socia de referencia y no ofrece recomendaciones ni afiliaciones a planes. Este sitio es solo para fines educativos y de referencia, y no está afiliado ni respaldado por el gobierno de EE. UU. ni por el programa federal de Medicare. Todas las preguntas y afiliaciones de Medicare son manejadas por representantes con licencia y certificación de EOS Health Plans. TTY 711.",
                lang: "EN"
            }
        };

        let currentLang = localStorage.getItem('language') || 'en';
        let referrals = JSON.parse(localStorage.getItem('referrals')) || [];
        let lastMilestone = parseInt(localStorage.getItem('lastMilestone')) || 0;

        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'es' : 'en';
            localStorage.setItem('language', currentLang);
            updateLanguage();
        }

        function updateLanguage() {
            const lang = LANG[currentLang];
            document.querySelector('.lang-toggle').textContent = lang.lang;
            document.getElementById('mainTitle').textContent = lang.title;
            document.getElementById('mainSubtitle').textContent = lang.subtitle;
            document.getElementById('welcomeText').textContent = lang.welcome;
            document.getElementById('missionText').textContent = lang.mission;
            document.getElementById('navHome').textContent = lang.home;
            document.getElementById('navLearn').textContent = lang.learn;
            document.getElementById('navTracker').textContent = lang.tracker;
            document.getElementById('navMilestones').textContent = lang.milestones;
            document.getElementById('learnTitle').textContent = lang.learnTitle;
            document.getElementById('trackerTitle').textContent = lang.trackerTitle;
            document.getElementById('milestonesTitle').textContent = lang.milestonesTitle;
            document.getElementById('progressTitle').textContent = lang.progressTitle;
            document.getElementById('addReferralTitle').textContent = lang.addReferralTitle;
            document.getElementById('submitBtn').textContent = lang.submitBtn;
            document.getElementById('exportBtn').textContent = lang.export;
            document.getElementById('importBtn').textContent = lang.import;
            document.getElementById('labelName').textContent = lang.name;
            document.getElementById('labelContact').textContent = lang.contact;
            document.getElementById('labelStatus').textContent = lang.status;
            document.getElementById('countdownTitle').textContent = lang.countdownTitle;
            document.getElementById('acc1Title').textContent = lang.acc1Title;
            document.getElementById('acc2Title').textContent = lang.acc2Title;
            document.getElementById('acc3Title').textContent = lang.acc3Title;
            document.getElementById('acc4Title').textContent = lang.acc4Title;
            document.getElementById('acc1Content').innerHTML = lang.acc1Content;
            document.getElementById('acc2Content').innerHTML = lang.acc2Content;
            document.getElementById('acc3Content').innerHTML = lang.acc3Content;
            document.getElementById('acc4Content').innerHTML = lang.acc4Content;
            
            const connectBtns = document.querySelectorAll('.cta-button');
            connectBtns.forEach(btn => btn.textContent = lang.connect);
            
            const disclaimerText = lang.disclaimer + '<br><br><strong>Contact Elizabeth:</strong> <a href="mailto:edonato@experiorfinancialgroup.com" style="color: var(--gold);">edonato@experiorfinancialgroup.com</a>';
            document.getElementById('disclaimer').innerHTML = disclaimerText;
            
            updateMotivationalQuote();
        }

        function updateMotivationalQuote() {
            const quotes = LANG[currentLang].motivational;
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById('motivationalQuote').textContent = randomQuote;
        }

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            document.querySelector(`[data-nav="${sectionId}"]`).classList.add('active');
        }

        function toggleAccordion(header) {
            const content = header.nextElementSibling;
            const isOpen = content.classList.contains('open');
            
            document.querySelectorAll('.accordion-content').forEach(c => c.classList.remove('open'));
            
            if (!isOpen) {
                content.classList.add('open');
            }
        }

        function addReferral(event) {
            event.preventDefault();
            
            const referral = {
                id: Date.now(),
                name: document.getElementById('refName').value,
                contact: document.getElementById('refContact').value,
                status: document.getElementById('refStatus').value,
                date: new Date().toLocaleDateString()
            };
            
            referrals.push(referral);
            localStorage.setItem('referrals', JSON.stringify(referrals));
            
            document.getElementById('refName').value = '';
            document.getElementById('refContact').value = '';
            document.getElementById('refStatus').value = 'new';
            
            updateReferralList();
            updateProgress();
            checkMilestones();
        }

        function deleteReferral(id) {
            if (confirm('Are you sure you want to delete this referral?')) {
                referrals = referrals.filter(r => r.id !== id);
                localStorage.setItem('referrals', JSON.stringify(referrals));
                updateReferralList();
                updateProgress();
                checkMilestones();
            }
        }

        function updateReferralList() {
            const list = document.getElementById('referralList');
            if (referrals.length === 0) {
                list.innerHTML = '<p style="text-align: center; color: var(--gray);">No referrals yet. Start adding connections!</p>';
                return;
            }
            
            list.innerHTML = referrals.map(ref => {
                const statusClass = `status-${ref.status}`;
                const statusText = {
                    new: 'New Lead',
                    connected: 'Connected',
                    contacted: 'EOS Contacted',
                    enrolled: 'Enrolled'
                };
                
                return `
                    <div class="referral-item">
                        <div><strong>${ref.name}</strong><br><small>${ref.date}</small></div>
                        <div>${ref.contact}</div>
                        <div><span class="status-badge ${statusClass}">${statusText[ref.status]}</span></div>
                        <div><button class="delete-btn" onclick="deleteReferral(${ref.id})">Delete</button></div>
                    </div>
                `;
            }).join('');
        }

        function updateProgress() {
            const total = referrals.length;
            const percentage = Math.min((total / 200) * 100, 100);
            
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressFill').textContent = Math.round(percentage) + '%';
            document.getElementById('totalReferrals').textContent = `${LANG[currentLang].total}: ${total}`;
            
            const crown = document.getElementById('crownProgress');
            if (percentage >= 50) {
                crown.classList.add('gold');
            } else {
                crown.classList.remove('gold');
            }
        }

        function checkMilestones() {
            const total = referrals.length;
            const milestones = [25, 50, 100, 150, 200];
            
            milestones.forEach(milestone => {
                const card = document.querySelector(`[data-milestone="${milestone}"]`);
                if (total >= milestone) {
                    card.classList.add('achieved');
                    
                    if (milestone > lastMilestone) {
                        triggerConfetti();
                        lastMilestone = milestone;
                        localStorage.setItem('lastMilestone', milestone);
                    }
                }
            });
        }

        function triggerConfetti() {
            const colors = ['#D4AF37', '#6B3FA0', '#F5EDFF'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 3000);
                }, i * 30);
            }
        }

        function exportData() {
            const data = {
                referrals: referrals,
                exportDate: new Date().toISOString(),
                total: referrals.length
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `medicare-referrals-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }

        function importData() {
            document.getElementById('fileInput').click();
        }

        function handleFileImport(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    if (data.referrals && Array.isArray(data.referrals)) {
                        if (confirm('This will replace your current referral data. Continue?')) {
                            referrals = data.referrals;
                            localStorage.setItem('referrals', JSON.stringify(referrals));
                            updateReferralList();
                            updateProgress();
                            checkMilestones();
                            alert('Data imported successfully!');
                        }
                    } else {
                        alert('Invalid file format.');
                    }
                } catch (err) {
                    alert('Error reading file: ' + err.message);
                }
            };
            reader.readAsText(file);
            event.target.value = '';
        }

        function updateCountdown() {
            const endDate = new Date('2025-12-07T23:59:59');
            const now = new Date();
            const diff = endDate - now;
            
            if (diff <= 0) {
                document.getElementById('countdownTimer').textContent = 'AEP has ended';
                return;
            }
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            
            document.getElementById('countdownTimer').textContent = `${days}d ${hours}h ${minutes}m`;
        }

        // Initialize
        updateLanguage();
        updateReferralList();
        updateProgress();
        checkMilestones();
        updateCountdown();
        setInterval(updateCountdown, 60000);
        setInterval(updateMotivationalQuote, 30000);
    </script>
</body>
</html>